{"version":3,"names":["z","createClickUpClient","createSpacesClient","clickUpClient","cov_wrvtbnj3y","s","spacesClient","setupSpaceTools","server","f","tool","workspace_id","string","describe","console","error","spaces","getSpacesFromWorkspace","length","content","type","text","JSON","stringify","message","isError","space_id","space","getSpace","name"],"sources":["/Users/peterkrzyzek/Development/clickup-mcp-server/src/tools/space-tools.ts"],"sourcesContent":["import { McpServer } from '@modelcontextprotocol/sdk/server/mcp.js';\nimport { z } from 'zod';\nimport { createClickUpClient } from '../clickup-client/index.js';\nimport { createSpacesClient } from '../clickup-client/spaces.js';\n\n// Create clients\nconst clickUpClient = createClickUpClient();\nconst spacesClient = createSpacesClient(clickUpClient);\n\nexport function setupSpaceTools(server: McpServer): void {\n  // Register get_spaces tool\n  server.tool(\n    'get_spaces',\n    'Get spaces from a ClickUp workspace. Returns space details including name, settings, and features.',\n    { workspace_id: z.string().describe('The ID of the workspace to get spaces from') },\n    async ({ workspace_id }) => {\n      try {\n        console.error(`[SpaceTools] Getting spaces for workspace ${workspace_id}...`);\n        const spaces = await spacesClient.getSpacesFromWorkspace(workspace_id);\n        console.error(`[SpaceTools] Got ${spaces.length} spaces`);\n        \n        return {\n          content: [{ type: 'text', text: JSON.stringify(spaces, null, 2) }]\n        };\n      } catch (error: any) {\n        console.error('Error getting spaces:', error);\n        return {\n          content: [{ type: 'text', text: `Error getting spaces: ${error.message}` }],\n          isError: true\n        };\n      }\n    }\n  );\n\n  // Register get_space tool\n  server.tool(\n    'get_space',\n    'Get details about a specific ClickUp space. Returns space name, settings, features, and metadata.',\n    { space_id: z.string().describe('The ID of the space to get') },\n    async ({ space_id }) => {\n      try {\n        console.error(`[SpaceTools] Getting space ${space_id}...`);\n        const space = await spacesClient.getSpace(space_id);\n        console.error(`[SpaceTools] Got space: ${space.name}`);\n        \n        return {\n          content: [{ type: 'text', text: JSON.stringify(space, null, 2) }]\n        };\n      } catch (error: any) {\n        console.error('Error getting space:', error);\n        return {\n          content: [{ type: 'text', text: `Error getting space: ${error.message}` }],\n          isError: true\n        };\n      }\n    }\n  );\n}\n"],"mappings":"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","ignoreList":[]}