{"version":3,"names":["cov_if4r6q8zu","actualCoverage","axios","EnhancedDocsClient","constructor","client","f","s","apiToken","b","process","env","CLICKUP_API_TOKEN","getHeaders","getDocsFromWorkspace","workspaceId","params","url","response","get","headers","data","error","console","handleError","getDocPages","docId","contentFormat","max_page_depth","content_format","searchDocs","queryParams","doc_name","query","cursor","startsWith","spaceId","substring","space_id","createDoc","workspace_id","folder_id","Error","requestBody","name","content","public","template_id","post","updateDoc","undefined","put","deleteDoc","delete","getDoc","createPage","parent_page_id","position","updatePage","pageId","deletePage","getPage","getDocSharing","updateDocSharing","createDocFromTemplate","templateId","createParams","context","isAxiosError","status","message","validateContentFormat","format","validFormats","includes","sanitizeHtml","html","replace","createEnhancedDocsClient"],"sources":["/Users/peterkrzyzek/Development/clickup-mcp-server/src/clickup-client/docs-enhanced.ts"],"sourcesContent":["import { ClickUpClient } from './index.js';\nimport axios from 'axios';\n\n// Enhanced interfaces based on research\nexport interface Doc {\n  id: string;\n  name: string;\n  date_created: number;\n  date_updated: number;\n  parent?: {\n    id: string;\n    type: number;\n  };\n  public: boolean;\n  workspace_id: number;\n  creator: number;\n  deleted: boolean;\n  type: number;\n  content?: string;\n  url?: string;\n  sharing?: SharingConfig;\n  page_count?: number;\n}\n\nexport interface Page {\n  id: string;\n  name: string;\n  content: string;\n  content_format: ContentFormat;\n  doc_id: string;\n  parent_page_id?: string;\n  position: number;\n  date_created: number;\n  date_updated: number;\n  creator: number;\n}\n\nexport type ContentFormat = 'markdown' | 'html' | 'text/md' | 'text/plain' | 'text/html';\n\nexport interface SharingConfig {\n  public: boolean;\n  public_share_expires_on?: number;\n  public_fields?: string[];\n  team_sharing?: boolean;\n  guest_sharing?: boolean;\n  token?: string;\n  seo_optimized?: boolean;\n}\n\n// Parameter interfaces\nexport interface CreateDocParams {\n  workspace_id?: string;\n  space_id?: string;\n  folder_id?: string;\n  name: string;\n  content?: string;\n  public?: boolean;\n  template_id?: string;\n}\n\nexport interface UpdateDocParams {\n  name?: string;\n  content?: string;\n  public?: boolean;\n}\n\nexport interface CreatePageParams {\n  name: string;\n  content: string;\n  content_format?: ContentFormat;\n  parent_page_id?: string;\n  position?: number;\n}\n\nexport interface UpdatePageParams {\n  name?: string;\n  content?: string;\n  content_format?: ContentFormat;\n  position?: number;\n}\n\nexport interface SharingParams {\n  public?: boolean;\n  public_share_expires_on?: number;\n  public_fields?: string[];\n  team_sharing?: boolean;\n  guest_sharing?: boolean;\n}\n\nexport interface CreateFromTemplateParams {\n  workspace_id?: string;\n  space_id?: string;\n  folder_id?: string;\n  name: string;\n  template_variables?: Record<string, any>;\n}\n\nexport interface GetDocsParams {\n  cursor?: string;\n  deleted?: boolean;\n  archived?: boolean;\n  limit?: number;\n}\n\nexport interface SearchDocsParams {\n  query: string;\n  cursor?: string;\n}\n\nexport interface DocsResponse {\n  docs: Doc[];\n  next_cursor?: string;\n}\n\n/**\n * Enhanced Documents Client with full CRUD operations\n * Extends the existing read-only functionality with write operations\n */\nexport class EnhancedDocsClient {\n  private client: ClickUpClient;\n  private apiToken: string;\n\n  constructor(client: ClickUpClient) {\n    this.client = client;\n    this.apiToken = process.env.CLICKUP_API_TOKEN || '';\n  }\n\n  private getHeaders() {\n    return {\n      'Authorization': this.apiToken,\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    };\n  }\n\n  // ========================================\n  // EXISTING READ OPERATIONS (Enhanced)\n  // ========================================\n\n  /**\n   * Get docs from a specific workspace\n   */\n  async getDocsFromWorkspace(workspaceId: string, params?: GetDocsParams): Promise<DocsResponse> {\n    try {\n      const url = `https://api.clickup.com/api/v3/workspaces/${workspaceId}/docs`;\n      const response = await axios.get(url, {\n        headers: this.getHeaders(),\n        params\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error getting docs from workspace:', error);\n      throw this.handleError(error, 'Failed to get docs from workspace');\n    }\n  }\n\n  /**\n   * Get the pages of a doc\n   */\n  async getDocPages(workspaceId: string, docId: string, contentFormat: string = 'text/md'): Promise<Page[]> {\n    try {\n      const url = `https://api.clickup.com/api/v3/workspaces/${workspaceId}/docs/${docId}/pages`;\n      const params = { \n        max_page_depth: -1,\n        content_format: contentFormat\n      };\n      \n      const response = await axios.get(url, {\n        headers: this.getHeaders(),\n        params\n      });\n      \n      return response.data;\n    } catch (error) {\n      console.error('Error getting doc pages:', error);\n      throw this.handleError(error, 'Failed to get doc pages');\n    }\n  }\n\n  /**\n   * Search for docs in a workspace\n   */\n  async searchDocs(workspaceId: string, params: SearchDocsParams): Promise<DocsResponse> {\n    try {\n      const url = `https://api.clickup.com/api/v2/team/${workspaceId}/docs/search`;\n      const queryParams: any = {\n        doc_name: params.query,\n        cursor: params.cursor\n      };\n      \n      if (params.query.startsWith('space:')) {\n        const spaceId = params.query.substring(6);\n        queryParams.space_id = spaceId;\n        delete queryParams.doc_name;\n      }\n      \n      const response = await axios.get(url, {\n        headers: this.getHeaders(),\n        params: queryParams\n      });\n      \n      return response.data;\n    } catch (error) {\n      console.error('Error searching docs:', error);\n      throw this.handleError(error, 'Failed to search docs');\n    }\n  }\n\n  // ========================================\n  // NEW: DOCUMENT CRUD OPERATIONS\n  // ========================================\n\n  /**\n   * Create a new document\n   */\n  async createDoc(params: CreateDocParams): Promise<Doc> {\n    try {\n      let url: string;\n      \n      // Determine the correct endpoint based on parent\n      if (params.workspace_id) {\n        url = `https://api.clickup.com/api/v3/workspaces/${params.workspace_id}/docs`;\n      } else if (params.space_id) {\n        url = `https://api.clickup.com/api/v3/spaces/${params.space_id}/docs`;\n      } else if (params.folder_id) {\n        url = `https://api.clickup.com/api/v3/folders/${params.folder_id}/docs`;\n      } else {\n        throw new Error('Must specify workspace_id, space_id, or folder_id');\n      }\n\n      const requestBody = {\n        name: params.name,\n        content: params.content || '',\n        public: params.public || false\n      };\n\n      // Add template_id if provided\n      if (params.template_id) {\n        (requestBody as any).template_id = params.template_id;\n      }\n\n      const response = await axios.post(url, requestBody, {\n        headers: this.getHeaders()\n      });\n\n      return response.data;\n    } catch (error) {\n      console.error('Error creating document:', error);\n      throw this.handleError(error, 'Failed to create document');\n    }\n  }\n\n  /**\n   * Update an existing document\n   */\n  async updateDoc(docId: string, params: UpdateDocParams): Promise<Doc> {\n    try {\n      const url = `https://api.clickup.com/api/v3/docs/${docId}`;\n      \n      const requestBody: any = {};\n      if (params.name !== undefined) requestBody.name = params.name;\n      if (params.content !== undefined) requestBody.content = params.content;\n      if (params.public !== undefined) requestBody.public = params.public;\n\n      const response = await axios.put(url, requestBody, {\n        headers: this.getHeaders()\n      });\n\n      return response.data;\n    } catch (error) {\n      console.error('Error updating document:', error);\n      throw this.handleError(error, `Failed to update document ${docId}`);\n    }\n  }\n\n  /**\n   * Delete a document\n   */\n  async deleteDoc(docId: string): Promise<void> {\n    try {\n      const url = `https://api.clickup.com/api/v3/docs/${docId}`;\n      \n      await axios.delete(url, {\n        headers: this.getHeaders()\n      });\n    } catch (error) {\n      console.error('Error deleting document:', error);\n      throw this.handleError(error, `Failed to delete document ${docId}`);\n    }\n  }\n\n  /**\n   * Get document details\n   */\n  async getDoc(docId: string): Promise<Doc> {\n    try {\n      const url = `https://api.clickup.com/api/v3/docs/${docId}`;\n      \n      const response = await axios.get(url, {\n        headers: this.getHeaders()\n      });\n\n      return response.data;\n    } catch (error) {\n      console.error('Error getting document:', error);\n      throw this.handleError(error, `Failed to get document ${docId}`);\n    }\n  }\n\n  // ========================================\n  // NEW: PAGE MANAGEMENT OPERATIONS\n  // ========================================\n\n  /**\n   * Create a new page in a document\n   */\n  async createPage(docId: string, params: CreatePageParams): Promise<Page> {\n    try {\n      const url = `https://api.clickup.com/api/v3/docs/${docId}/pages`;\n      \n      const requestBody = {\n        name: params.name,\n        content: params.content,\n        content_format: params.content_format || 'markdown'\n      };\n\n      if (params.parent_page_id) {\n        (requestBody as any).parent_page_id = params.parent_page_id;\n      }\n      if (params.position !== undefined) {\n        (requestBody as any).position = params.position;\n      }\n\n      const response = await axios.post(url, requestBody, {\n        headers: this.getHeaders()\n      });\n\n      return response.data;\n    } catch (error) {\n      console.error('Error creating page:', error);\n      throw this.handleError(error, `Failed to create page in document ${docId}`);\n    }\n  }\n\n  /**\n   * Update an existing page\n   */\n  async updatePage(docId: string, pageId: string, params: UpdatePageParams): Promise<Page> {\n    try {\n      const url = `https://api.clickup.com/api/v3/docs/${docId}/pages/${pageId}`;\n      \n      const requestBody: any = {};\n      if (params.name !== undefined) requestBody.name = params.name;\n      if (params.content !== undefined) requestBody.content = params.content;\n      if (params.content_format !== undefined) requestBody.content_format = params.content_format;\n      if (params.position !== undefined) requestBody.position = params.position;\n\n      const response = await axios.put(url, requestBody, {\n        headers: this.getHeaders()\n      });\n\n      return response.data;\n    } catch (error) {\n      console.error('Error updating page:', error);\n      throw this.handleError(error, `Failed to update page ${pageId} in document ${docId}`);\n    }\n  }\n\n  /**\n   * Delete a page from a document\n   */\n  async deletePage(docId: string, pageId: string): Promise<void> {\n    try {\n      const url = `https://api.clickup.com/api/v3/docs/${docId}/pages/${pageId}`;\n      \n      await axios.delete(url, {\n        headers: this.getHeaders()\n      });\n    } catch (error) {\n      console.error('Error deleting page:', error);\n      throw this.handleError(error, `Failed to delete page ${pageId} from document ${docId}`);\n    }\n  }\n\n  /**\n   * Get page details\n   */\n  async getPage(docId: string, pageId: string, contentFormat?: ContentFormat): Promise<Page> {\n    try {\n      const url = `https://api.clickup.com/api/v3/docs/${docId}/pages/${pageId}`;\n      const params = contentFormat ? { content_format: contentFormat } : {};\n      \n      const response = await axios.get(url, {\n        headers: this.getHeaders(),\n        params\n      });\n\n      return response.data;\n    } catch (error) {\n      console.error('Error getting page:', error);\n      throw this.handleError(error, `Failed to get page ${pageId} from document ${docId}`);\n    }\n  }\n\n  // ========================================\n  // NEW: SHARING MANAGEMENT\n  // ========================================\n\n  /**\n   * Get document sharing settings\n   */\n  async getDocSharing(docId: string): Promise<SharingConfig> {\n    try {\n      const url = `https://api.clickup.com/api/v3/docs/${docId}/sharing`;\n      \n      const response = await axios.get(url, {\n        headers: this.getHeaders()\n      });\n\n      return response.data;\n    } catch (error) {\n      console.error('Error getting document sharing:', error);\n      throw this.handleError(error, `Failed to get sharing settings for document ${docId}`);\n    }\n  }\n\n  /**\n   * Update document sharing settings\n   */\n  async updateDocSharing(docId: string, params: SharingParams): Promise<SharingConfig> {\n    try {\n      const url = `https://api.clickup.com/api/v3/docs/${docId}/sharing`;\n      \n      const response = await axios.put(url, params, {\n        headers: this.getHeaders()\n      });\n\n      return response.data;\n    } catch (error) {\n      console.error('Error updating document sharing:', error);\n      throw this.handleError(error, `Failed to update sharing settings for document ${docId}`);\n    }\n  }\n\n  // ========================================\n  // NEW: TEMPLATE OPERATIONS\n  // ========================================\n\n  /**\n   * Create document from template\n   */\n  async createDocFromTemplate(templateId: string, params: CreateFromTemplateParams): Promise<Doc> {\n    try {\n      const createParams: CreateDocParams = {\n        ...params,\n        template_id: templateId\n      };\n\n      return await this.createDoc(createParams);\n    } catch (error) {\n      console.error('Error creating document from template:', error);\n      throw this.handleError(error, `Failed to create document from template ${templateId}`);\n    }\n  }\n\n  // ========================================\n  // UTILITY METHODS\n  // ========================================\n\n  /**\n   * Enhanced error handling with context\n   */\n  private handleError(error: any, context: string): Error {\n    if (axios.isAxiosError(error)) {\n      const status = error.response?.status;\n      const message = error.response?.data?.message || error.message;\n      \n      switch (status) {\n        case 400:\n          return new Error(`${context}: Invalid request - ${message}`);\n        case 401:\n          return new Error(`${context}: Authentication failed - check API token`);\n        case 403:\n          return new Error(`${context}: Permission denied - insufficient access rights`);\n        case 404:\n          return new Error(`${context}: Resource not found - ${message}`);\n        case 413:\n          return new Error(`${context}: Content too large - reduce document size`);\n        case 429:\n          return new Error(`${context}: Rate limit exceeded - please retry later`);\n        case 500:\n          return new Error(`${context}: Server error - please try again`);\n        default:\n          return new Error(`${context}: ${message}`);\n      }\n    }\n    \n    return new Error(`${context}: ${error.message || 'Unknown error'}`);\n  }\n\n  /**\n   * Validate content format\n   */\n  private validateContentFormat(format: ContentFormat): boolean {\n    const validFormats: ContentFormat[] = ['markdown', 'html', 'text/md', 'text/plain', 'text/html'];\n    return validFormats.includes(format);\n  }\n\n  /**\n   * Sanitize HTML content (basic implementation)\n   */\n  private sanitizeHtml(html: string): string {\n    // Basic HTML sanitization - remove script tags and dangerous attributes\n    return html\n      .replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, '')\n      .replace(/on\\w+=\"[^\"]*\"/gi, '')\n      .replace(/javascript:/gi, '');\n  }\n}\n\nexport const createEnhancedDocsClient = (client: ClickUpClient): EnhancedDocsClient => {\n  return new EnhancedDocsClient(client);\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}